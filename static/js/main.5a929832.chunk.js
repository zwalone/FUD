(this.webpackJsonpfud=this.webpackJsonpfud||[]).push([[0],{85:function(e,t,n){},86:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var i,a=n(0),c=n.n(a),o=n(17),r=n.n(o),s=(n(85),n(86),n(19)),l=n(8),d=n(15),u=n(5),h=n(126),j=n(141),b=n(127),f=n(128),g=n(130),p=n(61),m=n.n(p),v=n(53),O=n.n(v),x=n(72),w=n.n(x),k=n(129),N=n(73),y=n.n(N),S=n(54),B=n.n(S),C=n(131),I=n(75),L=n(66),E=n(67),R=n(142),A=n(2),F=Object(E.a)(R.a)(i||(i=Object(L.a)(["\n            color: #6200EE !important;\n            backgroundColor: #6200EE !important;\n"])));function T(e){var t=e.checkable,n=e.ingredient,i=e.setChecked,a=W();return Object(A.jsxs)("div",{className:a.root,children:[t&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(F,{checked:n.checked,onChange:function(){i()},className:a.checkBox}),Object(A.jsx)("div",{className:a.nameCheckable,children:n.name})]}),!t&&Object(A.jsx)("div",{className:a.name,children:n.name})]})}var W=Object(h.a)({root:{display:"flex",flexDirection:"row"},checkBox:{paddingRight:"0.5em"},nameCheckable:{display:"flex",alignItems:"center",textAlign:"left",fontSize:"1em"},name:{display:"flex",alignItems:"center",textAlign:"left",fontSize:"1em",paddingLeft:"1em",paddingTop:"0.5em",paddingBottom:"0.5em"}});function z(e){var t,n,i=e.ingredients,a=e.setIngredients,c=e.checkable;c||(i=null===(n=i)||void 0===n?void 0:n.map((function(e){return{name:e,checked:!1}})));return Object(A.jsx)("div",{style:{width:"100%"},children:null===(t=i)||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(T,{setChecked:function(){!function(e){i[e].checked=!i[e].checked,a(Object(I.a)(i))}(t)},checkable:c,ingredient:e},t)}))})}var D=window.localStorage;function H(e){var t=D.getItem(e);if(null===t)return null;try{return JSON.parse(t)}catch(n){return t}}function $(e,t){var n=t;"string"!==typeof t&&(n=JSON.stringify(t)),D.setItem(e,n)}var q=function(e){var t=[];for(var n in e)t.push({label:e[n].label,quantity:Math.round(1e3*e[n].quantity)/1e3,unit:e[n].unit});return t},J="86ce1907",M="af51ddd726c7b958de428aea412cd744",P=function(e,t,n){return fetch("https://api.edamam.com/search?app_id=".concat(J)+"&app_key=".concat(M,"&q=").concat(e,"&from=").concat(t,"&to=").concat(n)).then((function(e){return e.json()})).then((function(e){return 0===(t=e.hits).length?"No results":t.map((function(e){return{uri:e.recipe.uri,label:e.recipe.label,image:e.recipe.image,calories:Math.round(e.recipe.calories)+" kcal",url:e.recipe.url,servings:e.recipe.yield+" servings",ingredients:e.recipe.ingredientLines,nutrients:q(e.recipe.totalNutrients)}}));var t})).catch((function(e){return console.log(e)}))},U=function(e){return fetch("https://api.edamam.com/search?app_id=".concat(J)+"&app_key=".concat(M,"&r=").concat(e)).then((function(e){return e.json()})).then((function(e){return 0===(t=e).length?"No results":t.map((function(e){return{uri:e.uri,label:e.label,image:e.image,calories:Math.round(e.calories)+" kcal",url:e.url,servings:e.yield+" servings",ingredients:e.ingredientLines,nutrients:q(e.totalNutrients)}}))[0];var t})).catch((function(e){return console.log(e)}))},_=Object(u.a)({root:{"&:before":{backgroundColor:"white"},"&$expanded":{margin:0}},expanded:{}})(j.a),X=Object(u.a)({root:{minHeight:0,"&$expanded":{minHeight:0}},content:{margin:0,"&$expanded":{margin:0}},expanded:{}})(b.a),G=Object(u.a)({root:{paddingRight:"1em",paddingLeft:"1em",paddingTop:0,paddingBottom:0}})(f.a);function K(){var e,t,n,i=Object(l.f)(),c=Q(),o=Object(a.useState)(null===i||void 0===i||null===(e=i.location)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.recipe),r=Object(d.a)(o,2),s=r[0],u=r[1],h=Object(a.useState)(null===s||void 0===s?void 0:s.ingredients),j=Object(d.a)(h,2),b=j[0],f=j[1],p=Object(a.useState)(function(e){var t=H("favourites");return null!==t&&void 0!==t[null===e||void 0===e?void 0:e.uri]}(s)),v=Object(d.a)(p,2),x=v[0],N=v[1];Object(a.useEffect)((function(){if(void 0===s){var e=window.location.href.search("recipeDetails")+"recipeDetails".length+1,t=window.location.href.slice(e);U(t).then((function(e){u(e)}))}}),[s]);return null===s||void 0===s?Object(A.jsx)(A.Fragment,{}):Object(A.jsxs)("div",{className:c.container,children:[Object(A.jsxs)("div",{className:c.imageBox,children:[Object(A.jsxs)("div",{className:c.icons,children:[Object(A.jsx)(k.a,{onClick:function(){i.goBack()},className:c.IconLeft,children:Object(A.jsx)(O.a,{})}),Object(A.jsx)(k.a,{href:"".concat(null===s||void 0===s?void 0:s.url),className:c.IconRight,children:Object(A.jsx)(w.a,{})})]}),Object(A.jsx)("img",{className:c.image,src:null===s||void 0===s?void 0:s.image,alt:"recipe"})]}),Object(A.jsxs)("div",{className:c.safeArea,children:[Object(A.jsx)(g.a,{className:c.title,children:null===s||void 0===s?void 0:s.label}),Object(A.jsxs)("div",{className:c.details,children:[Object(A.jsx)(g.a,{className:c.detailsLeft,children:null===s||void 0===s?void 0:s.calories}),Object(A.jsx)(g.a,{className:c.detailsRight,children:null===s||void 0===s?void 0:s.servings})]})]}),Object(A.jsxs)(_,{elevation:0,children:[Object(A.jsx)(X,{expandIcon:Object(A.jsx)(m.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(A.jsx)(g.a,{variant:"h6",children:"Ingredients"})}),Object(A.jsx)(G,{children:void 0!==(null===s||void 0===s?void 0:s.ingredients)?Object(A.jsx)(z,{ingredients:b,setIngredients:function(e){f(e)}}):null})]}),Object(A.jsxs)(_,{elevation:0,children:[Object(A.jsx)(X,{expandIcon:Object(A.jsx)(m.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(A.jsx)(g.a,{variant:"h6",children:"Nutrients Info"})}),Object(A.jsx)("div",{className:c.safeArea,children:null===s||void 0===s||null===(n=s.nutrients)||void 0===n?void 0:n.map((function(e,t){return Object(A.jsx)(G,{className:c.accordionDetails,children:Object(A.jsxs)("div",{className:c.nutrition,children:[Object(A.jsx)(g.a,{className:c.detailsLeft,children:e.label}),Object(A.jsxs)(g.a,{className:c.detailsRight,children:[e.quantity," ",e.unit]})]})},t)}))})]}),Object(A.jsx)(C.a,{onClick:function(){var e=H("favourites");null===e&&$("favourites",{}),void 0!==e[s.uri]?(delete e[s.uri],N(!1)):(e[s.uri]=s,N(!0)),$("favourites",e)},className:c.floatingButton,color:"secondary",children:x?Object(A.jsx)(y.a,{}):Object(A.jsx)(B.a,{})})]})}var Q=Object(h.a)({container:{marginBottom:50,overflowX:"hidden"},imageBox:{position:"relative",height:192,overflow:"hidden"},image:{width:"100%",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",zIndex:-1},icons:{width:"100%",justifyContent:"space-between"},IconLeft:{position:"absolute",top:8,left:0,color:"white"},IconRight:{position:"absolute",top:8,right:0,color:"white"},title:{fontSize:"1.75em",textAlign:"start",fontWeight:"bold",lineHeight:"1.0em",paddingTop:"0.5em"},safeArea:{paddingLeft:"1em",paddingRight:"1em",display:"flex",flexDirection:"column"},details:{paddingTop:"0.5em",paddingBottom:"0.5em",width:"100%",justifyContent:"space-between"},nutrition:{width:"100%",justifyContent:"space-between"},detailsLeft:{float:"left",display:"inline",width:"50%",textAlign:"start",fontSize:"1em"},detailsRight:{float:"right",display:"inline",width:"50%",textAlign:"end",fontSize:"1em"},description:{fontSize:"1em",textAlign:"start"},floatingButton:{position:"fixed",bottom:16,right:16}}),V=n(132),Y=n(133),Z=n(42),ee=n.n(Z);function te(e){var t=e.pathname,n=ne(),i=Object(a.useState)(t),c=Object(d.a)(i,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){""!==t&&"FUD"!==t||r("search")}),[t]),Object(A.jsxs)(V.a,{value:o,onChange:function(e,t){r(t)},className:n.root,children:[Object(A.jsx)(Y.a,{component:s.b,to:"/search",label:"Search",value:"search",icon:Object(A.jsx)(ee.a,{}),classes:{label:n.label,root:n.button,selected:n.selected}}),Object(A.jsx)(Y.a,{component:s.b,to:"/favorites",label:"Favorites",value:"favorites",icon:Object(A.jsx)(B.a,{}),classes:{label:n.label,root:n.button,selected:n.selected}})]})}var ne=Object(h.a)({root:{position:"sticky",bottom:0,width:"100%",backgroundColor:"#6200EE"},button:{width:"50%",maxWidth:"none","&$selected":{color:"white"}},label:{color:"white"},selected:{}}),ie=n(140),ae=n(134),ce=n(135),oe=n(137),re=n(136);function se(e){var t=e.title,n=e.subTitle,i=e.image,a=e.onClick,c=le();return Object(A.jsx)(ae.a,{className:c.root,onClick:function(){a()},children:Object(A.jsxs)(ce.a,{children:[Object(A.jsx)(re.a,{className:c.media,image:i,title:t}),Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(g.a,{variant:"h6",align:"left",noWrap:!0,children:t}),Object(A.jsx)(g.a,{variant:"body2",align:"left",children:n})]})]})})}var le=Object(h.a)({root:{maxWidth:345,height:"fit-content"},media:{height:194}}),de=n(138),ue=n(139),he=n(100),je=n(143),be=n(74),fe=n.n(be);function ge(e){var t=e.onSearch,n=e.canSearch,i=pe(),c=Object(a.useState)(!1),o=Object(d.a)(c,2),r=o[0],s=o[1],l=Object(a.useState)(!1),u=Object(d.a)(l,2),h=u[0],j=u[1],b=Object(a.useRef)("");return Object(A.jsx)("div",{className:i.root,children:Object(A.jsx)(de.a,{position:"static",className:i.appBar,children:r?Object(A.jsxs)(ue.a,{children:[Object(A.jsx)(he.a,{className:i.backButton,onClick:function(){s(!1),j(!1)},children:Object(A.jsx)(fe.a,{})}),Object(A.jsxs)("div",{className:i.searchBar,children:[Object(A.jsx)(he.a,{className:i.searchBarButton,onClick:function(){return t(b.current.value)},children:Object(A.jsx)(ee.a,{})}),Object(A.jsx)(je.a,{placeholder:"Search for recipe",inputRef:b,onChange:function(e){return j(e.target.value.length>0)},className:i.searchBarInput}),h?Object(A.jsx)(he.a,{className:i.searchBarButton,onClick:function(){b.current.value="",j(!1)},children:Object(A.jsx)(O.a,{})}):Object(A.jsx)(A.Fragment,{})]})]}):Object(A.jsxs)(ue.a,{children:[" ",Object(A.jsx)(g.a,{className:i.title,children:"Recipes"}),n&&Object(A.jsx)(he.a,{className:i.searchButton,onClick:function(){s(!0)},children:Object(A.jsx)(ee.a,{})})]})})})}var pe=Object(h.a)({root:{position:"sticky",top:0,zIndex:9999},appBar:{backgroundColor:"#6200EE"},title:{width:"100%",textAlign:"left",color:"rgba(255, 255, 255, 0.75)",fontSize:"1.25em",userSelect:"none"},searchButton:{padding:0,color:"rgba(255, 255, 255, 0.75)"},backButton:{paddingLeft:0,color:"rgba(255, 255, 255, 0.75)"},searchBar:{borderRadius:4,backgroundColor:"rgba(255, 255, 255, 0.75)",width:"100%",display:"flex"},searchBarButton:{paddingTop:0,paddingBottom:0,paddingLeft:"1%",paddingRight:"1%",color:"rgba(0, 0, 0, 0.75)"},searchBarInput:{width:"100%",fontSize:"1.25em",lineHeight:"1.5em"}});function me(){var e=ve(),t=H("favourites"),n=Object(l.f)();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(ge,{canSearch:!1}),Object(A.jsx)("div",{className:e.root,children:Object(A.jsx)(ie.a,{container:!0,spacing:1,justify:"center",children:function(){if(null===t)return[];var e=[],i=function(i){var a=t[i];e.push(Object(A.jsx)(ie.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(A.jsx)(se,{title:a.label,subTitle:a.calories,image:a.image,onClick:function(){return function(e){var t=e.uri.split("/"),i=t.pop()||t.pop();n.push({pathname:"/recipeDetails/"+i,state:{recipe:e}})}(a)}},a.url)},a.url))};for(var a in t)i(a);return e}()})})]})}var ve=Object(h.a)({root:{margin:8,minHeight:"100vh"}});function Oe(e){return window.location.pathname.split("/")[e]}var xe=[];function we(){var e=ke(),t=Object(l.f)(),n=Object(a.useState)(xe),i=Object(d.a)(n,2),c=i[0],o=i[1],r=Object(a.useState)(Oe(2)),s=Object(d.a)(r,2),u=s[0],h=s[1],j=function(){var e=u;void 0!==e&&null!==e&&0!==e.length||(e="shrimp"),P(e,0,100).then((function(e){void 0===e?console.log("Failed to fetch (wrong keys?)"):(o(e),xe=e)}))};Object(a.useEffect)((function(){0===c.length&&j()}),[]);var b=Object(a.useRef)(!1);Object(a.useEffect)((function(){!0===b.current?j():b.current=!0}),[u]);return Object(A.jsxs)(a.Fragment,{children:[Object(A.jsx)(ge,{canSearch:!0,onSearch:function(e){return function(e){t.replace({pathname:"/search/"+e}),h(e)}(e)}}),Object(A.jsx)("div",{className:e.root,children:Object(A.jsx)(ie.a,{container:!0,spacing:1,justify:"center",children:c.map((function(e){return Object(A.jsx)(ie.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(A.jsx)(se,{title:e.label,subTitle:e.calories,image:e.image,onClick:function(){return n=e,void t.push({pathname:"/recipeDetails/"+escape(n.uri),state:{recipe:n}});var n}},e.url)},e.url)}))})})]})}var ke=Object(h.a)({root:{margin:8,minHeight:"100vh"}});function Ne(){var e=Oe(1);return Object(A.jsxs)(a.Fragment,{children:["favorites"===e?Object(A.jsx)(me,{}):Object(A.jsx)(we,{}),Object(A.jsx)(te,{pathname:e})]})}function ye(){return Object(A.jsx)(s.a,{children:Object(A.jsx)("div",{className:"App",children:Object(A.jsxs)(l.c,{children:[Object(A.jsx)(l.a,{path:"/recipeDetails",component:K}),Object(A.jsx)(l.a,{path:"/",component:Ne})]})})})}var Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))};r.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(ye,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Se?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Be(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Be(t,e)}))}}(),Ce()}},[[99,1,2]]]);
//# sourceMappingURL=main.5a929832.chunk.js.map